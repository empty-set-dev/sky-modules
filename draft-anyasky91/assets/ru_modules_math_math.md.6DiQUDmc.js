import{_ as i,c as a,o as n,ag as l}from"./chunks/framework.C7_dZ9MF.js";const o=JSON.parse('{"title":"math","description":"","frontmatter":{},"headers":[],"relativePath":"ru/modules/math/math.md","filePath":"ru/modules/math/math.md"}'),e={name:"ru/modules/math/math.md"};function p(t,s,h,r,k,d){return n(),a("div",null,[...s[0]||(s[0]=[l(`<h1 id="math" tabindex="-1">math <a class="header-anchor" href="#math" aria-label="Permalink to &quot;math&quot;">​</a></h1><div class="sky-gradient-text" style="font-size:1.2em;margin:1em 0;"> Math utility module </div><p>Математические утилиты и операции с векторами для 2D/3D графики и научных вычислений.</p><h2 id="установка" tabindex="-1">Установка <a class="header-anchor" href="#установка" aria-label="Permalink to &quot;Установка&quot;">​</a></h2><div class="language-bash vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">npm</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> install</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> @sky-modules/math</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><h2 id="возможности" tabindex="-1">Возможности <a class="header-anchor" href="#возможности" aria-label="Permalink to &quot;Возможности&quot;">​</a></h2><ul><li><strong>Vector2</strong> - класс 2D векторов с математическими операциями (из Three.js)</li><li><strong>Vector3</strong> - класс 3D векторов с математическими операциями (из Three.js)</li><li><strong>Математические типы Three.js</strong> - полные TypeScript определения для математической библиотеки Three.js</li><li><strong>Глобальные расширения</strong> - опциональное добавление в глобальное пространство имен для удобства</li><li><strong>Нет зависимостей</strong> - реэкспорты из Three.js math без дополнительных накладных расходов</li></ul><h2 id="использование" tabindex="-1">Использование <a class="header-anchor" href="#использование" aria-label="Permalink to &quot;Использование&quot;">​</a></h2><h3 id="базовые-операции-с-векторами" tabindex="-1">Базовые операции с векторами <a class="header-anchor" href="#базовые-операции-с-векторами" aria-label="Permalink to &quot;Базовые операции с векторами&quot;">​</a></h3><div class="language-typescript vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">typescript</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">import</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> { Vector2, Vector3 } </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">from</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;@sky-modules/math&#39;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// 2D векторы</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> v2</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> new</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> Vector2</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">10</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">20</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> v2_copy</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> v2.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">clone</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">()</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">v2_copy.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">add</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">new</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> Vector2</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">5</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">5</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)) </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// (15, 25)</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// 3D векторы</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> v3</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> new</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> Vector3</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">2</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">3</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> length</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> v3.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">length</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">() </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// ~3.74</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> normalized</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> v3.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">clone</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">().</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">normalize</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">() </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// Единичный вектор</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br></div></div><h3 id="математика-векторов" tabindex="-1">Математика векторов <a class="header-anchor" href="#математика-векторов" aria-label="Permalink to &quot;Математика векторов&quot;">​</a></h3><div class="language-typescript vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">typescript</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">import</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> { Vector3 } </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">from</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;@sky-modules/math&#39;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> v1</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> new</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> Vector3</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">0</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">0</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> v2</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> new</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> Vector3</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">0</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">0</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// Скалярное произведение</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> dot</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> v1.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">dot</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(v2) </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// 0</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// Векторное произведение</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> cross</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> v1.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">clone</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">().</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">cross</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(v2) </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// (0, 0, 1)</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// Расстояние между векторами</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> distance</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> v1.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">distanceTo</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(v2) </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// ~1.41</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// Линейная интерполяция</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> lerp</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> v1.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">clone</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">().</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">lerp</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(v2, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">0.5</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// (0.5, 0.5, 0)</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br></div></div><h3 id="глобальные-расширения" tabindex="-1">Глобальные расширения <a class="header-anchor" href="#глобальные-расширения" aria-label="Permalink to &quot;Глобальные расширения&quot;">​</a></h3><div class="language-typescript vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">typescript</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// Импортируйте глобальные расширения для использования без импортов</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">import</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;@sky-modules/math/global&#39;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// Теперь Vector2 и Vector3 доступны глобально</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> vec</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> new</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> Vector2</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">10</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">20</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> vec3</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> new</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> Vector3</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">2</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">3</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><h3 id="математические-типы-three-js" tabindex="-1">Математические типы Three.js <a class="header-anchor" href="#математические-типы-three-js" aria-label="Permalink to &quot;Математические типы Three.js&quot;">​</a></h3><p>Модуль включает полные TypeScript определения для всех математических классов Three.js:</p><div class="language-typescript vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">typescript</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">import</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> type</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    Box2,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    Box3,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    Color,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    Euler,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    Matrix3,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    Matrix4,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    Quaternion,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    Sphere,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    Plane,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    Ray,</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">    // ... и другие</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">} </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">from</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;@sky-modules/math/three&#39;</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br></div></div><h2 id="api" tabindex="-1">API <a class="header-anchor" href="#api" aria-label="Permalink to &quot;API&quot;">​</a></h2><h3 id="vector2" tabindex="-1">Vector2 <a class="header-anchor" href="#vector2" aria-label="Permalink to &quot;Vector2&quot;">​</a></h3><p><strong>Источник:</strong> <code>@sky-modules/math/three/Vector2</code></p><p><strong>Основные методы:</strong></p><ul><li><code>new Vector2(x?, y?)</code> - Создать 2D вектор</li><li><code>add(v)</code> - Сложить с вектором</li><li><code>sub(v)</code> - Вычесть вектор</li><li><code>multiply(v)</code> - Умножить на вектор</li><li><code>multiplyScalar(s)</code> - Умножить на скаляр</li><li><code>divide(v)</code> - Разделить на вектор</li><li><code>divideScalar(s)</code> - Разделить на скаляр</li><li><code>dot(v)</code> - Скалярное произведение</li><li><code>cross(v)</code> - Векторное произведение (возвращает скаляр)</li><li><code>length()</code> - Длина вектора</li><li><code>lengthSq()</code> - Квадрат длины (быстрее)</li><li><code>normalize()</code> - Преобразовать в единичный вектор</li><li><code>distanceTo(v)</code> - Расстояние до другого вектора</li><li><code>distanceToSquared(v)</code> - Квадрат расстояния (быстрее)</li><li><code>lerp(v, alpha)</code> - Линейная интерполяция</li><li><code>clone()</code> - Создать копию</li><li><code>equals(v)</code> - Проверка равенства</li></ul><h3 id="vector3" tabindex="-1">Vector3 <a class="header-anchor" href="#vector3" aria-label="Permalink to &quot;Vector3&quot;">​</a></h3><p><strong>Источник:</strong> <code>@sky-modules/math/three/Vector3</code></p><p><strong>Основные методы:</strong></p><ul><li><code>new Vector3(x?, y?, z?)</code> - Создать 3D вектор</li><li><code>add(v)</code> - Сложить с вектором</li><li><code>sub(v)</code> - Вычесть вектор</li><li><code>multiply(v)</code> - Умножить на вектор</li><li><code>multiplyScalar(s)</code> - Умножить на скаляр</li><li><code>divide(v)</code> - Разделить на вектор</li><li><code>divideScalar(s)</code> - Разделить на скаляр</li><li><code>dot(v)</code> - Скалярное произведение</li><li><code>cross(v)</code> - Векторное произведение (возвращает вектор)</li><li><code>length()</code> - Длина вектора</li><li><code>lengthSq()</code> - Квадрат длины (быстрее)</li><li><code>normalize()</code> - Преобразовать в единичный вектор</li><li><code>distanceTo(v)</code> - Расстояние до другого вектора</li><li><code>distanceToSquared(v)</code> - Квадрат расстояния (быстрее)</li><li><code>lerp(v, alpha)</code> - Линейная интерполяция</li><li><code>applyMatrix3(m)</code> - Применить трансформацию матрицы 3x3</li><li><code>applyMatrix4(m)</code> - Применить трансформацию матрицы 4x4</li><li><code>applyQuaternion(q)</code> - Применить вращение кватерниона</li><li><code>clone()</code> - Создать копию</li><li><code>equals(v)</code> - Проверка равенства</li></ul><h2 id="фаилы" tabindex="-1">Файлы <a class="header-anchor" href="#фаилы" aria-label="Permalink to &quot;Файлы&quot;">​</a></h2><h3 id="vector2-index-ts" tabindex="-1">Vector2/index.ts <a class="header-anchor" href="#vector2-index-ts" aria-label="Permalink to &quot;Vector2/index.ts&quot;">​</a></h3><p><strong>Назначение:</strong> Реэкспорт Vector2 из математической библиотеки Three.js <strong>Экспорты:</strong> <code>Vector2</code> (экспорт по умолчанию)</p><h3 id="vector2-global-vector2-ts" tabindex="-1">Vector2/global/Vector2.ts <a class="header-anchor" href="#vector2-global-vector2-ts" aria-label="Permalink to &quot;Vector2/global/Vector2.ts&quot;">​</a></h3><p><strong>Назначение:</strong> Расширение глобального пространства имен для Vector2 <strong>Особенности:</strong></p><ul><li>Делает Vector2 доступным глобально без импортов</li><li>Использует утилиту globalify для безопасной регистрации в глобальном пространстве</li></ul><h3 id="vector3-index-ts" tabindex="-1">Vector3/index.ts <a class="header-anchor" href="#vector3-index-ts" aria-label="Permalink to &quot;Vector3/index.ts&quot;">​</a></h3><p><strong>Назначение:</strong> Реэкспорт Vector3 из математической библиотеки Three.js <strong>Экспорты:</strong> <code>Vector3</code> (экспорт по умолчанию)</p><h3 id="vector3-global-vector3-ts" tabindex="-1">Vector3/global/Vector3.ts <a class="header-anchor" href="#vector3-global-vector3-ts" aria-label="Permalink to &quot;Vector3/global/Vector3.ts&quot;">​</a></h3><p><strong>Назначение:</strong> Расширение глобального пространства имен для Vector3 <strong>Особенности:</strong></p><ul><li>Делает Vector3 доступным глобально без импортов</li><li>Использует утилиту globalify для безопасной регистрации в глобальном пространстве</li></ul><h3 id="three-d-ts" tabindex="-1">three/*.d.ts <a class="header-anchor" href="#three-d-ts" aria-label="Permalink to &quot;three/*.d.ts&quot;">​</a></h3><p><strong>Назначение:</strong> TypeScript определения типов для математических классов Three.js <strong>Основные экспорты:</strong></p><ul><li><code>Box2</code>, <code>Box3</code> - Ограничивающие параллелепипеды, выровненные по осям</li><li><code>Color</code> - RGB цвет с утилитами конвертации</li><li><code>Euler</code> - Вращение углами Эйлера</li><li><code>Matrix2</code>, <code>Matrix3</code>, <code>Matrix4</code> - Матричные трансформации</li><li><code>Quaternion</code> - Вращение кватернионом</li><li><code>Sphere</code>, <code>Spherical</code> - Сферические координаты и фигуры</li><li><code>Plane</code> - Бесконечная плоскость</li><li><code>Ray</code> - Луч для рейкастинга</li><li><code>Triangle</code> - Геометрия треугольника</li><li><code>MathUtils</code> - Вспомогательные математические функции</li><li>И другие...</li></ul><h2 id="связанные-модули" tabindex="-1">Связанные модули <a class="header-anchor" href="#связанные-модули" aria-label="Permalink to &quot;Связанные модули&quot;">​</a></h2><ul><li><a href="/sky-modules/three.html">@sky-modules/three</a> - 3D рендеринг Three.js с поддержкой JSX</li><li><a href="/sky-modules/canvas.html">@sky-modules/canvas</a> - 2D рендеринг canvas с поддержкой векторов</li></ul><h2 id="примечания-по-реализации" tabindex="-1">Примечания по реализации <a class="header-anchor" href="#примечания-по-реализации" aria-label="Permalink to &quot;Примечания по реализации&quot;">​</a></h2><h3 id="архитектура" tabindex="-1">Архитектура <a class="header-anchor" href="#архитектура" aria-label="Permalink to &quot;Архитектура&quot;">​</a></h3><p>Модуль является тонкой обёрткой над математической библиотекой Three.js:</p><ol><li><strong>Vector2/Vector3</strong> - прямые реэкспорты из <code>three/src/math/</code></li><li><strong>Определения типов</strong> обеспечивают полную поддержку TypeScript</li><li><strong>Глобальные расширения</strong> используют утилиту <code>globalify</code> для безопасного добавления в пространство имен</li><li><strong>Нулевые накладные расходы</strong> - никаких дополнительных абстракций или преобразований</li></ol><h3 id="почему-математика-three-js" tabindex="-1">Почему математика Three.js? <a class="header-anchor" href="#почему-математика-three-js" aria-label="Permalink to &quot;Почему математика Three.js?&quot;">​</a></h3><p>Математические классы Three.js:</p><ul><li>Проверены в продакшн 3D приложениях</li><li>Высоко оптимизированы для производительности</li><li>Функционально полные с обширным набором операций</li><li>Хорошо документированы и поддерживаются</li><li>Совместимы с WebGL и Canvas API</li></ul><h3 id="структура-модуля" tabindex="-1">Структура модуля <a class="header-anchor" href="#структура-модуля" aria-label="Permalink to &quot;Структура модуля&quot;">​</a></h3><div class="language- vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>math/</span></span>
<span class="line"><span>├── Vector2/</span></span>
<span class="line"><span>│   ├── index.ts              # Реэкспорт из three</span></span>
<span class="line"><span>│   └── global/</span></span>
<span class="line"><span>│       ├── Vector2.ts        # Глобальное расширение</span></span>
<span class="line"><span>│       └── index.ts</span></span>
<span class="line"><span>├── Vector3/</span></span>
<span class="line"><span>│   ├── index.ts              # Реэкспорт из three</span></span>
<span class="line"><span>│   └── global/</span></span>
<span class="line"><span>│       ├── Vector3.ts        # Глобальное расширение</span></span>
<span class="line"><span>│       └── index.ts</span></span>
<span class="line"><span>├── three/</span></span>
<span class="line"><span>│   ├── Vector2.d.ts          # Определения типов</span></span>
<span class="line"><span>│   ├── Vector3.d.ts</span></span>
<span class="line"><span>│   └── ...                   # Другие математические типы</span></span>
<span class="line"><span>├── global/</span></span>
<span class="line"><span>│   └── index.ts              # Все глобальные расширения</span></span>
<span class="line"><span>└── index.ts                  # Главная точка входа</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br></div></div><h3 id="соображения-производительности" tabindex="-1">Соображения производительности <a class="header-anchor" href="#соображения-производительности" aria-label="Permalink to &quot;Соображения производительности&quot;">​</a></h3><ol><li><strong>Используйте <code>lengthSq()</code> и <code>distanceToSquared()</code> когда возможно</strong> - Избегает дорогой операции sqrt()</li><li><strong>Переиспользуйте векторы</strong> - Используйте <code>set()</code>, <code>copy()</code> или модифицируйте на месте чтобы избежать аллокаций</li><li><strong>Нормализуйте экономно</strong> - Нормализация включает деление на длину (sqrt + деление)</li><li><strong>Объединяйте операции в цепочки</strong> - Методы возвращают <code>this</code> для текучего API</li></ol><h3 id="лучшие-практики" tabindex="-1">Лучшие практики <a class="header-anchor" href="#лучшие-практики" aria-label="Permalink to &quot;Лучшие практики&quot;">​</a></h3><div class="language-typescript vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">typescript</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// Хорошо - переиспользование векторов</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> temp</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> new</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> Vector3</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">()</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">for</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> point</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> of</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> points) {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    temp.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">copy</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(point).</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">normalize</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">()</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">    // используйте temp...</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// Плохо - создание множества векторов</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">for</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> point</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> of</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> points) {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> normalized</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> point.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">clone</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">().</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">normalize</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">()</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">    // используйте normalized...</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// Хорошо - используйте квадрат расстояния</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">if</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (v1.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">distanceToSquared</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(v2) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&lt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> threshold </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">*</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> threshold) {</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">    // ...</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// Плохо - ненужный sqrt</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">if</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (v1.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">distanceTo</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(v2) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&lt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> threshold) {</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">    // ...</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br></div></div>`,55)])])}const g=i(e,[["render",p]]);export{o as __pageData,g as default};
