<!DOCTYPE html>
<html lang="ru" dir="ltr">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>three | Sky Modules</title>
    <meta name="description" content="Мощные TypeScript утилиты для современной разработки">
    <meta name="generator" content="VitePress v1.6.4">
    <link rel="preload stylesheet" href="/sky-modules/draft-anyasky91/assets/style.D5xPban6.css" as="style">
    <link rel="preload stylesheet" href="/sky-modules/draft-anyasky91/vp-icons.css" as="style">
    
    <script type="module" src="/sky-modules/draft-anyasky91/assets/app.ZCxJgUgo.js"></script>
    <link rel="preload" href="/sky-modules/draft-anyasky91/assets/inter-roman-latin.Di8DUHzh.woff2" as="font" type="font/woff2" crossorigin="">
    <link rel="modulepreload" href="/sky-modules/draft-anyasky91/assets/chunks/theme.B2vAW-KX.js">
    <link rel="modulepreload" href="/sky-modules/draft-anyasky91/assets/chunks/framework.DWLDrywG.js">
    <link rel="modulepreload" href="/sky-modules/draft-anyasky91/assets/ru_modules_three_three.md.CP-Wypkq.lean.js">
    <script id="check-dark-mode">(()=>{const e=localStorage.getItem("vitepress-theme-appearance")||"auto",a=window.matchMedia("(prefers-color-scheme: dark)").matches;(!e||e==="auto"?a:e==="dark")&&document.documentElement.classList.add("dark")})();</script>
    <script id="check-mac-os">document.documentElement.classList.toggle("mac",/Mac|iPhone|iPod|iPad/i.test(navigator.platform));</script>
  </head>
  <body>
    <div id="app"><div class="Layout" data-v-eaf121cc><!--[--><!--]--><!--[--><span tabindex="-1" data-v-4ab4f29d></span><a href="#VPContent" class="VPSkipLink visually-hidden" data-v-4ab4f29d>Skip to content</a><!--]--><!----><header class="VPNav" data-v-eaf121cc data-v-18e67fad><div class="VPNavBar" data-v-18e67fad data-v-7c9b4dc4><div class="wrapper" data-v-7c9b4dc4><div class="container" data-v-7c9b4dc4><div class="title" data-v-7c9b4dc4><div class="VPNavBarTitle" data-v-7c9b4dc4 data-v-d1c750bd><a class="title" href="/sky-modules/draft-anyasky91/ru/" data-v-d1c750bd><!--[--><!--]--><!----><span data-v-d1c750bd>Sky Modules</span><!--[--><!--]--></a></div></div><div class="content" data-v-7c9b4dc4><div class="content-body" data-v-7c9b4dc4><!--[--><!--]--><div class="VPNavBarSearch search" data-v-7c9b4dc4><!--[--><!----><div id="local-search"><button type="button" class="DocSearch DocSearch-Button" aria-label="Search"><span class="DocSearch-Button-Container"><span class="vp-icon DocSearch-Search-Icon"></span><span class="DocSearch-Button-Placeholder">Search</span></span><span class="DocSearch-Button-Keys"><kbd class="DocSearch-Button-Key"></kbd><kbd class="DocSearch-Button-Key">K</kbd></span></button></div><!--]--></div><nav aria-labelledby="main-nav-aria-label" class="VPNavBarMenu menu" data-v-7c9b4dc4 data-v-c0462416><span id="main-nav-aria-label" class="visually-hidden" data-v-c0462416> Main Navigation </span><!--[--><!--[--><a class="VPLink link VPNavBarMenuLink" href="/sky-modules/draft-anyasky91/ru/guide/getting-started.html" tabindex="0" data-v-c0462416 data-v-58dc611b><!--[--><span data-v-58dc611b>Руководство</span><!--]--></a><!--]--><!--[--><a class="VPLink link VPNavBarMenuLink" href="/sky-modules/draft-anyasky91/ru/modules/" tabindex="0" data-v-c0462416 data-v-58dc611b><!--[--><span data-v-58dc611b>Модули</span><!--]--></a><!--]--><!--[--><a class="VPLink link VPNavBarMenuLink" href="/sky-modules/draft-anyasky91/ru/playground/" tabindex="0" data-v-c0462416 data-v-58dc611b><!--[--><span data-v-58dc611b>Песочница</span><!--]--></a><!--]--><!--[--><div class="VPFlyout VPNavBarMenuGroup" data-v-c0462416 data-v-748d5ad9><button type="button" class="button" aria-haspopup="true" aria-expanded="false" data-v-748d5ad9><span class="text" data-v-748d5ad9><!----><span data-v-748d5ad9>NPM</span><span class="vpi-chevron-down text-icon" data-v-748d5ad9></span></span></button><div class="menu" data-v-748d5ad9><div class="VPMenu" data-v-748d5ad9 data-v-a16d5c99><div class="items" data-v-a16d5c99><!--[--><!--[--><div class="VPMenuLink" data-v-a16d5c99 data-v-f4cb5a57><a class="VPLink link vp-external-link-icon" href="https://npmjs.com/package/@sky-modules/core" target="_blank" rel="noreferrer" data-v-f4cb5a57><!--[--><span data-v-f4cb5a57>@sky-modules/core</span><!--]--></a></div><!--]--><!--[--><div class="VPMenuLink" data-v-a16d5c99 data-v-f4cb5a57><a class="VPLink link" href="/sky-modules/draft-anyasky91/ru/packages/" data-v-f4cb5a57><!--[--><span data-v-f4cb5a57>Все пакеты</span><!--]--></a></div><!--]--><!--]--></div><!--[--><!--]--></div></div></div><!--]--><!--]--></nav><div class="VPFlyout VPNavBarTranslations translations" data-v-7c9b4dc4 data-v-08c83fee data-v-748d5ad9><button type="button" class="button" aria-haspopup="true" aria-expanded="false" aria-label="Change language" data-v-748d5ad9><span class="text" data-v-748d5ad9><span class="vpi-languages option-icon" data-v-748d5ad9></span><!----><span class="vpi-chevron-down text-icon" data-v-748d5ad9></span></span></button><div class="menu" data-v-748d5ad9><div class="VPMenu" data-v-748d5ad9 data-v-a16d5c99><!----><!--[--><!--[--><div class="items" data-v-08c83fee><p class="title" data-v-08c83fee>Русский</p><!--[--><div class="VPMenuLink" data-v-08c83fee data-v-f4cb5a57><a class="VPLink link" href="/sky-modules/draft-anyasky91/modules/three/three.html" data-v-f4cb5a57><!--[--><span data-v-f4cb5a57>English</span><!--]--></a></div><!--]--></div><!--]--><!--]--></div></div></div><div class="VPNavBarAppearance appearance" data-v-7c9b4dc4 data-v-f3245019><button class="VPSwitch VPSwitchAppearance" type="button" role="switch" title aria-checked="false" data-v-f3245019 data-v-7c4eee15 data-v-2bce3c92><span class="check" data-v-2bce3c92><span class="icon" data-v-2bce3c92><!--[--><span class="vpi-sun sun" data-v-7c4eee15></span><span class="vpi-moon moon" data-v-7c4eee15></span><!--]--></span></span></button></div><div class="VPSocialLinks VPNavBarSocialLinks social-links" data-v-7c9b4dc4 data-v-d8a039d0 data-v-54561534><!--[--><a class="VPSocialLink no-icon" href="https://github.com/empty-set-dev/sky-modules" aria-label="github" target="_blank" rel="noopener" data-v-54561534 data-v-86fd8212><span class="vpi-social-github"></span></a><a class="VPSocialLink no-icon" href="https://npmjs.com/~sky-modules" aria-label="npm" target="_blank" rel="noopener" data-v-54561534 data-v-86fd8212><span class="vpi-social-npm"></span></a><!--]--></div><div class="VPFlyout VPNavBarExtra extra" data-v-7c9b4dc4 data-v-46fc4d56 data-v-748d5ad9><button type="button" class="button" aria-haspopup="true" aria-expanded="false" aria-label="extra navigation" data-v-748d5ad9><span class="vpi-more-horizontal icon" data-v-748d5ad9></span></button><div class="menu" data-v-748d5ad9><div class="VPMenu" data-v-748d5ad9 data-v-a16d5c99><!----><!--[--><!--[--><div class="group translations" data-v-46fc4d56><p class="trans-title" data-v-46fc4d56>Русский</p><!--[--><div class="VPMenuLink" data-v-46fc4d56 data-v-f4cb5a57><a class="VPLink link" href="/sky-modules/draft-anyasky91/modules/three/three.html" data-v-f4cb5a57><!--[--><span data-v-f4cb5a57>English</span><!--]--></a></div><!--]--></div><div class="group" data-v-46fc4d56><div class="item appearance" data-v-46fc4d56><p class="label" data-v-46fc4d56>Appearance</p><div class="appearance-action" data-v-46fc4d56><button class="VPSwitch VPSwitchAppearance" type="button" role="switch" title aria-checked="false" data-v-46fc4d56 data-v-7c4eee15 data-v-2bce3c92><span class="check" data-v-2bce3c92><span class="icon" data-v-2bce3c92><!--[--><span class="vpi-sun sun" data-v-7c4eee15></span><span class="vpi-moon moon" data-v-7c4eee15></span><!--]--></span></span></button></div></div></div><div class="group" data-v-46fc4d56><div class="item social-links" data-v-46fc4d56><div class="VPSocialLinks social-links-list" data-v-46fc4d56 data-v-54561534><!--[--><a class="VPSocialLink no-icon" href="https://github.com/empty-set-dev/sky-modules" aria-label="github" target="_blank" rel="noopener" data-v-54561534 data-v-86fd8212><span class="vpi-social-github"></span></a><a class="VPSocialLink no-icon" href="https://npmjs.com/~sky-modules" aria-label="npm" target="_blank" rel="noopener" data-v-54561534 data-v-86fd8212><span class="vpi-social-npm"></span></a><!--]--></div></div></div><!--]--><!--]--></div></div></div><!--[--><!--]--><button type="button" class="VPNavBarHamburger hamburger" aria-label="mobile navigation" aria-expanded="false" aria-controls="VPNavScreen" data-v-7c9b4dc4 data-v-3c45133c><span class="container" data-v-3c45133c><span class="top" data-v-3c45133c></span><span class="middle" data-v-3c45133c></span><span class="bottom" data-v-3c45133c></span></span></button></div></div></div></div><div class="divider" data-v-7c9b4dc4><div class="divider-line" data-v-7c9b4dc4></div></div></div><!----></header><div class="VPLocalNav empty fixed" data-v-eaf121cc data-v-b0003619><div class="container" data-v-b0003619><!----><div class="VPLocalNavOutlineDropdown" style="--vp-vh:0px;" data-v-b0003619 data-v-6df0beea><button data-v-6df0beea>Return to top</button><!----></div></div></div><!----><div class="VPContent" id="VPContent" data-v-eaf121cc data-v-ccd32f52><div class="VPDoc has-aside" data-v-ccd32f52 data-v-66d94ec8><!--[--><!--]--><div class="container" data-v-66d94ec8><div class="aside" data-v-66d94ec8><div class="aside-curtain" data-v-66d94ec8></div><div class="aside-container" data-v-66d94ec8><div class="aside-content" data-v-66d94ec8><div class="VPDocAside" data-v-66d94ec8 data-v-ec567b7b><!--[--><!--]--><!--[--><!--]--><nav aria-labelledby="doc-outline-aria-label" class="VPDocAsideOutline" data-v-ec567b7b data-v-c373acf4><div class="content" data-v-c373acf4><div class="outline-marker" data-v-c373acf4></div><div aria-level="2" class="outline-title" id="doc-outline-aria-label" role="heading" data-v-c373acf4>On this page</div><ul class="VPDocOutlineItem root" data-v-c373acf4 data-v-34dedc51><!--[--><!--]--></ul></div></nav><!--[--><!--]--><div class="spacer" data-v-ec567b7b></div><!--[--><!--]--><!----><!--[--><!--]--><!--[--><!--]--></div></div></div></div><div class="content" data-v-66d94ec8><div class="content-container" data-v-66d94ec8><!--[--><!--]--><main class="main" data-v-66d94ec8><div style="position:relative;" class="vp-doc _sky-modules_draft-anyasky91_ru_modules_three_three" data-v-66d94ec8><div><h1 id="three" tabindex="-1">three <a class="header-anchor" href="#three" aria-label="Permalink to &quot;three&quot;">​</a></h1><div class="sky-gradient-text" style="font-size:1.2em;margin:1em 0;"> Three utility module </div><p>Модуль 3D рендеринга Three.js с поддержкой JSX для декларативного создания сцен.</p><h2 id="установка" tabindex="-1">Установка <a class="header-anchor" href="#установка" aria-label="Permalink to &quot;Установка&quot;">​</a></h2><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">npm</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> install</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> @sky-modules/three</span></span></code></pre></div><h2 id="возможности" tabindex="-1">Возможности <a class="header-anchor" href="#возможности" aria-label="Permalink to &quot;Возможности&quot;">​</a></h2><ul><li><strong>Синтаксис JSX</strong> - Декларативное создание сцен Three.js с React-подобным JSX</li><li><strong>ThreeJSXRenderer</strong> - Полноценный рендерер с циклом анимации и управлением</li><li><strong>Автоматическая настройка WebGL</strong> - Не требуется ручная конфигурация рендерера</li><li><strong>Управление мышью</strong> - Встроенное орбитальное управление камерой</li><li><strong>Цикл анимации</strong> - Автоматическое управление requestAnimationFrame</li><li><strong>Колбэки обновления</strong> - Хуки обновления для каждого объекта для анимаций</li><li><strong>Поддержка теней</strong> - Встроенная конфигурация карт теней</li><li><strong>Адаптивность</strong> - Автоматическая обработка изменения размера окна</li></ul><h2 id="использование" tabindex="-1">Использование <a class="header-anchor" href="#использование" aria-label="Permalink to &quot;Использование&quot;">​</a></h2><h3 id="базовая-сцена" tabindex="-1">Базовая сцена <a class="header-anchor" href="#базовая-сцена" aria-label="Permalink to &quot;Базовая сцена&quot;">​</a></h3><div class="language-typescript vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">typescript</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">import</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> { ThreeJSXRenderer } </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">from</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;@sky-modules/three/jsx&#39;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> renderer</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> new</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> ThreeJSXRenderer</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">()</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">renderer.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">render</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    &lt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">scene background</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">{</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">0x111111</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">        &lt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">ambientLight intensity</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">{</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">0.5</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">} </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">/&gt;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">        &lt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">directionalLight position</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">{[</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">5</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">5</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">5</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">]} intensity={1} /&gt;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        &lt;mesh position={[</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">0</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">0</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">0</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">]}&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">            &lt;boxGeometry args={[</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">]} /&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">            &lt;meshStandardMaterial color={0x00ff00} /&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        &lt;/mesh&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    &lt;/scene&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span></code></pre></div><h3 id="анимированные-объекты" tabindex="-1">Анимированные объекты <a class="header-anchor" href="#анимированные-объекты" aria-label="Permalink to &quot;Анимированные объекты&quot;">​</a></h3><div class="language-typescript vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">typescript</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">renderer.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">render</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    &lt;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">scene</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">        &lt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">mesh</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">            position</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">{[</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">0</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">0</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">0</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">]}</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">            onUpdate={(mesh, time, delta) =&gt; {</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">                // time: прошедшее время в секундах</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">                // delta: время с последнего кадра</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">                mesh.rotation.x = time</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">                mesh.rotation.y = time * 0.5</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">            }}</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        &gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">            &lt;sphereGeometry args={[</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">32</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">32</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">]} /&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">            &lt;meshStandardMaterial color={0xff0000} /&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        &lt;/mesh&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    &lt;/scene&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span></code></pre></div><h3 id="пользовательская-камера" tabindex="-1">Пользовательская камера <a class="header-anchor" href="#пользовательская-камера" aria-label="Permalink to &quot;Пользовательская камера&quot;">​</a></h3><div class="language-typescript vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">typescript</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">renderer.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">render</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    &lt;&gt;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">        &lt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">camera</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">            position</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">{[</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">10</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">10</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">10</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">]}</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">            fov={60}</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">            lookAt={[</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">0</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">0</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">0</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">]}</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        /&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        &lt;scene&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">            {</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">/* содержимое сцены */</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        &lt;/scene&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    &lt;/&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span></code></pre></div><h3 id="сложная-сцена" tabindex="-1">Сложная сцена <a class="header-anchor" href="#сложная-сцена" aria-label="Permalink to &quot;Сложная сцена&quot;">​</a></h3><div class="language-typescript vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">typescript</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">renderer.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">render</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    &lt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">scene background</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">{</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">0x222222</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">} fog</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">{{ </span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">color</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">0x222222</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">near</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">10</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">far</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">50</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> }}</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        {</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">/* Освещение */</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">        &lt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">ambientLight color</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">{</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">0x404040</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">} intensity</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">{</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">0.5</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">} </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">/&gt;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">        &lt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">directionalLight</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">            position</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">{[</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">5</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">10</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">5</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">]}</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">            intensity={1}</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">            castShadow={true}</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        /&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        &lt;pointLight</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">            position={[</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">-</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">5</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">5</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">-</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">5</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">]}</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">            color={0xff0000}</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">            intensity={0.5}</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">            distance={20}</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">            decay={2}</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        /&gt;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        {</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">/* Объекты */</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        &lt;group position={[</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">0</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">0</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">0</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">]} rotation={[</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">0</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, Math.</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">PI</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> /</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 4</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">0</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">]}&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">            &lt;mesh position={[</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">-</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">2</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">0</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">0</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">]} castShadow={true}&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">                &lt;boxGeometry args={[</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">]} /&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">                &lt;meshStandardMaterial</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">                    color={0x00ff00}</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">                    metalness={0.5}</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">                    roughness={0.5}</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">                /&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">            &lt;/mesh&gt;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">            &lt;mesh position={[</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">2</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">0</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">0</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">]} castShadow={true}&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">                &lt;sphereGeometry args={[</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">0.5</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">32</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">32</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">]} /&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">                &lt;meshPhysicalMaterial</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">                    color={0x0000ff}</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">                    transmission={0.9}</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">                    thickness={1}</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">                    roughness={0.1}</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">                /&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">            &lt;/mesh&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        &lt;/group&gt;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        {</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">/* Плоскость земли */</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        &lt;mesh rotation={[</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">-</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">Math.</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">PI</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> /</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 2</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">0</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">0</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">]} receiveShadow={true}&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">            &lt;planeGeometry args={[</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">20</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">20</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">]} /&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">            &lt;meshStandardMaterial color={0x808080} /&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        &lt;/mesh&gt;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        {</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">/* Сетка */</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        &lt;gridHelper /&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    &lt;/scene&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span></code></pre></div><h3 id="линии-и-фигуры" tabindex="-1">Линии и фигуры <a class="header-anchor" href="#линии-и-фигуры" aria-label="Permalink to &quot;Линии и фигуры&quot;">​</a></h3><div class="language-typescript vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">typescript</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">renderer.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">render</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    &lt;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">scene</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        {</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">/* Простая линия */</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">        &lt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">line</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">            points</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">{[</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">                [</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">0</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">0</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">0</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">],</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">                [</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">0</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">],</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">                [</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">2</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">0</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">0</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">]</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">            ]}</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">            color={0xff0000}</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">            linewidth={2}</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        /&gt;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        {</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">/* Замкнутая линия */</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        &lt;lineLoop</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">            points={[</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">                [</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">0</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">0</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">0</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">],</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">                [</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">0</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">0</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">],</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">                [</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">0</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">],</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">                [</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">0</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">0</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">]</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">            ]}</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">            color={0x00ff00}</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        /&gt;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        {</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">/* Сегменты линий */</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        &lt;lineSegments</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">            points={[</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">                [</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">0</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">0</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">0</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">], [</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">],</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">                [</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">2</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">0</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">0</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">], [</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">3</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">]</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">            ]}</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">            color={0x0000ff}</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        /&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    &lt;/scene&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span></code></pre></div><h3 id="управление-жизненным-циклом" tabindex="-1">Управление жизненным циклом <a class="header-anchor" href="#управление-жизненным-циклом" aria-label="Permalink to &quot;Управление жизненным циклом&quot;">​</a></h3><div class="language-typescript vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">typescript</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> renderer</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> new</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> ThreeJSXRenderer</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(document.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">getElementById</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;container&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">))</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// Рендеринг автоматический, но можно контролировать цикл анимации</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">renderer.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">stop</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">()  </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// Остановить рендеринг</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">renderer.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">start</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">() </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// Возобновить рендеринг</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// Очистка при завершении работы</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">renderer.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">dispose</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">() </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// Остановить анимацию, очистить сцену, освободить WebGL ресурсы</span></span></code></pre></div><h2 id="api" tabindex="-1">API <a class="header-anchor" href="#api" aria-label="Permalink to &quot;API&quot;">​</a></h2><h3 id="threejsxrenderer" tabindex="-1">ThreeJSXRenderer <a class="header-anchor" href="#threejsxrenderer" aria-label="Permalink to &quot;ThreeJSXRenderer&quot;">​</a></h3><p>Основной класс рендерера для JSX-сцен Three.js.</p><p><strong>Конструктор:</strong></p><div class="language-typescript vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">typescript</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">new</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> ThreeJSXRenderer</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(container</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">?:</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> HTMLElement)</span></span></code></pre></div><ul><li><code>container</code> - HTML элемент для монтирования canvas (по умолчанию: document.body)</li></ul><p><strong>Свойства:</strong></p><ul><li><code>scene: Three.Scene</code> - Сцена Three.js</li><li><code>camera: Three.PerspectiveCamera</code> - Камера</li><li><code>renderer: Three.WebGLRenderer</code> - WebGL рендерер</li><li><code>clock: Three.Clock</code> - Часы для синхронизации анимации</li></ul><p><strong>Методы:</strong></p><h4 id="render-element-jsx-element-jsx-element" tabindex="-1"><code>render(element: JSX.Element | JSX.Element[])</code> <a class="header-anchor" href="#render-element-jsx-element-jsx-element" aria-label="Permalink to &quot;`render(element: JSX.Element | JSX.Element[])`&quot;">​</a></h4><p>Рендерит JSX элементы в сцену Three.js.</p><div class="language-typescript vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">typescript</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">renderer.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">render</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(&lt;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">scene</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">...&lt;/</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">scene</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span></code></pre></div><h4 id="start" tabindex="-1"><code>start()</code> <a class="header-anchor" href="#start" aria-label="Permalink to &quot;`start()`&quot;">​</a></h4><p>Запускает цикл анимации. Вызывается автоматически в конструкторе.</p><h4 id="stop" tabindex="-1"><code>stop()</code> <a class="header-anchor" href="#stop" aria-label="Permalink to &quot;`stop()`&quot;">​</a></h4><p>Останавливает цикл анимации для экономии CPU/GPU ресурсов.</p><h4 id="dispose" tabindex="-1"><code>dispose()</code> <a class="header-anchor" href="#dispose" aria-label="Permalink to &quot;`dispose()`&quot;">​</a></h4><p>Очищает все ресурсы (сцену, рендерер, обработчики событий).</p><h3 id="jsx-элементы" tabindex="-1">JSX Элементы <a class="header-anchor" href="#jsx-элементы" aria-label="Permalink to &quot;JSX Элементы&quot;">​</a></h3><h4 id="scene" tabindex="-1"><code>&lt;scene&gt;</code> <a class="header-anchor" href="#scene" aria-label="Permalink to &quot;`&lt;scene&gt;`&quot;">​</a></h4><p>Корневой контейнер сцены.</p><p><strong>Свойства:</strong></p><ul><li><code>background?: string | number</code> - Цвет фона сцены</li><li><code>fog?: { color?: string | number; near?: number; far?: number }</code> - Туман сцены</li></ul><h4 id="camera" tabindex="-1"><code>&lt;camera&gt;</code> <a class="header-anchor" href="#camera" aria-label="Permalink to &quot;`&lt;camera&gt;`&quot;">​</a></h4><p>Конфигурация камеры.</p><p><strong>Свойства:</strong></p><ul><li><code>position?: [number, number, number]</code> - Позиция камеры</li><li><code>rotation?: [number, number, number]</code> - Вращение камеры</li><li><code>fov?: number</code> - Поле зрения</li><li><code>aspect?: number</code> - Соотношение сторон</li><li><code>near?: number</code> - Ближняя плоскость отсечения</li><li><code>far?: number</code> - Дальняя плоскость отсечения</li><li><code>lookAt?: [number, number, number]</code> - Точка, на которую смотреть</li></ul><h4 id="mesh" tabindex="-1"><code>&lt;mesh&gt;</code> <a class="header-anchor" href="#mesh" aria-label="Permalink to &quot;`&lt;mesh&gt;`&quot;">​</a></h4><p>3D объект mesh.</p><p><strong>Свойства:</strong></p><ul><li><code>position?: [number, number, number]</code> - Позиция объекта</li><li><code>rotation?: [number, number, number]</code> - Вращение объекта (в радианах)</li><li><code>scale?: [number, number, number]</code> - Масштаб объекта</li><li><code>castShadow?: boolean</code> - Отбрасывать тени</li><li><code>receiveShadow?: boolean</code> - Принимать тени</li><li><code>visible?: boolean</code> - Видимость</li><li><code>userData?: any</code> - Пользовательские данные</li><li><code>onUpdate?: (mesh: Three.Mesh, time: number, delta: number) =&gt; void</code> - Колбэк анимации</li></ul><p><strong>Дочерние элементы:</strong> Должны включать одну геометрию и один материал</p><h4 id="group" tabindex="-1"><code>&lt;group&gt;</code> <a class="header-anchor" href="#group" aria-label="Permalink to &quot;`&lt;group&gt;`&quot;">​</a></h4><p>Группировка объектов.</p><p><strong>Свойства:</strong></p><ul><li><code>position?: [number, number, number]</code></li><li><code>rotation?: [number, number, number]</code></li><li><code>scale?: [number, number, number]</code></li><li><code>visible?: boolean</code></li></ul><h4 id="освещение" tabindex="-1">Освещение <a class="header-anchor" href="#освещение" aria-label="Permalink to &quot;Освещение&quot;">​</a></h4><p><strong><code>&lt;ambientLight&gt;</code></strong></p><ul><li><code>color?: string | number</code> - Цвет света (по умолчанию: 0xffffff)</li><li><code>intensity?: number</code> - Интенсивность света (по умолчанию: 1)</li></ul><p><strong><code>&lt;directionalLight&gt;</code></strong></p><ul><li><code>color?: string | number</code></li><li><code>intensity?: number</code></li><li><code>position?: [number, number, number]</code></li><li><code>castShadow?: boolean</code> - Включить отбрасывание теней</li></ul><p><strong><code>&lt;pointLight&gt;</code></strong></p><ul><li><code>color?: string | number</code></li><li><code>intensity?: number</code></li><li><code>position?: [number, number, number]</code></li><li><code>distance?: number</code> - Максимальное расстояние света (0 = бесконечно)</li><li><code>decay?: number</code> - Скорость затухания света (по умолчанию: 2)</li></ul><p><strong><code>&lt;spotLight&gt;</code></strong></p><ul><li><code>color?: string | number</code></li><li><code>intensity?: number</code></li><li><code>position?: [number, number, number]</code></li><li><code>target?: [number, number, number]</code> - Точка освещения</li><li><code>angle?: number</code> - Угол конуса света (по умолчанию: PI/3)</li><li><code>penumbra?: number</code> - Мягкость края света (0-1)</li><li><code>decay?: number</code></li><li><code>distance?: number</code></li></ul><h4 id="геометрия" tabindex="-1">Геометрия <a class="header-anchor" href="#геометрия" aria-label="Permalink to &quot;Геометрия&quot;">​</a></h4><p>Все геометрии используют проп <code>args</code> для аргументов конструктора.</p><p><strong><code>&lt;boxGeometry&gt;</code></strong></p><ul><li><code>args?: [width?, height?, depth?, widthSegments?, heightSegments?, depthSegments?]</code></li></ul><p><strong><code>&lt;sphereGeometry&gt;</code></strong></p><ul><li><code>args?: [radius?, widthSegments?, heightSegments?, phiStart?, phiLength?, thetaStart?, thetaLength?]</code></li></ul><p><strong><code>&lt;cylinderGeometry&gt;</code></strong></p><ul><li><code>args?: [radiusTop?, radiusBottom?, height?, radialSegments?, heightSegments?, openEnded?, thetaStart?, thetaLength?]</code></li></ul><p><strong><code>&lt;planeGeometry&gt;</code></strong></p><ul><li><code>args?: [width?, height?, widthSegments?, heightSegments?]</code></li></ul><p><strong><code>&lt;coneGeometry&gt;</code></strong></p><ul><li><code>args?: [radius?, height?, radialSegments?, heightSegments?, openEnded?, thetaStart?, thetaLength?]</code></li></ul><p><strong><code>&lt;torusGeometry&gt;</code></strong></p><ul><li><code>args?: [radius?, tube?, radialSegments?, tubularSegments?, arc?]</code></li></ul><h4 id="материалы" tabindex="-1">Материалы <a class="header-anchor" href="#материалы" aria-label="Permalink to &quot;Материалы&quot;">​</a></h4><p><strong><code>&lt;meshBasicMaterial&gt;</code></strong> Неосвещенный материал.</p><ul><li><code>color?: string | number</code></li><li><code>opacity?: number</code></li><li><code>transparent?: boolean</code></li><li><code>wireframe?: boolean</code></li><li><code>side?: Three.Side</code></li></ul><p><strong><code>&lt;meshStandardMaterial&gt;</code></strong> Физически корректный материал (PBR).</p><ul><li><code>color?: string | number</code></li><li><code>opacity?: number</code></li><li><code>transparent?: boolean</code></li><li><code>wireframe?: boolean</code></li><li><code>metalness?: number</code> (0-1)</li><li><code>roughness?: number</code> (0-1)</li><li><code>emissive?: string | number</code></li><li><code>emissiveIntensity?: number</code></li><li><code>side?: Three.Side</code></li></ul><p><strong><code>&lt;meshPhongMaterial&gt;</code></strong> Глянцевый материал с зеркальными бликами.</p><ul><li><code>color?: string | number</code></li><li><code>opacity?: number</code></li><li><code>transparent?: boolean</code></li><li><code>wireframe?: boolean</code></li><li><code>shininess?: number</code></li><li><code>specular?: string | number</code></li><li><code>side?: Three.Side</code></li></ul><p><strong><code>&lt;meshPhysicalMaterial&gt;</code></strong> Продвинутый PBR материал.</p><ul><li>Все свойства <code>meshStandardMaterial</code>, плюс:</li><li><code>clearcoat?: number</code> - Слой лака (0-1)</li><li><code>clearcoatRoughness?: number</code></li><li><code>transmission?: number</code> - Прозрачность (0-1)</li><li><code>thickness?: number</code> - Толщина преломления</li><li><code>ior?: number</code> - Индекс преломления</li></ul><h4 id="линии" tabindex="-1">Линии <a class="header-anchor" href="#линии" aria-label="Permalink to &quot;Линии&quot;">​</a></h4><p><strong><code>&lt;line&gt;</code></strong> - Соединенные сегменты линий <strong><code>&lt;lineLoop&gt;</code></strong> - Замкнутая линия <strong><code>&lt;lineSegments&gt;</code></strong> - Несоединенные сегменты линий</p><p><strong>Свойства:</strong></p><ul><li><code>points?: Array&lt;[number, number, number]&gt;</code> - Вершины линии</li><li><code>color?: string | number</code></li><li><code>linewidth?: number</code> (примечание: может не работать на всех платформах)</li></ul><h4 id="вспомогательные-элементы" tabindex="-1">Вспомогательные элементы <a class="header-anchor" href="#вспомогательные-элементы" aria-label="Permalink to &quot;Вспомогательные элементы&quot;">​</a></h4><p><strong><code>&lt;gridHelper&gt;</code></strong> Рендерит сетку на земле (10x10 по умолчанию).</p><h2 id="фаилы" tabindex="-1">Файлы <a class="header-anchor" href="#фаилы" aria-label="Permalink to &quot;Файлы&quot;">​</a></h2><h3 id="jsx-tsx" tabindex="-1">jsx.tsx <a class="header-anchor" href="#jsx-tsx" aria-label="Permalink to &quot;jsx.tsx&quot;">​</a></h3><p><strong>Назначение:</strong> Основная реализация ThreeJSXRenderer <strong>Основные экспорты:</strong></p><ul><li><code>ThreeJSXRenderer</code> - Основной класс рендерера</li></ul><p><strong>Возможности:</strong></p><ul><li>Определения типов JSX элементов в глобальном пространстве имен</li><li>Полный рендеринг сцены из JSX</li><li>Цикл анимации с колбэками обновления</li><li>Орбитальное управление мышью (перетаскивание для вращения, прокрутка для масштабирования)</li><li>Автоматическая очистка ресурсов</li><li>Поддержка карт теней</li><li>Обработка изменения размера окна</li></ul><p><strong>Архитектура:</strong> Рендерер следует паттерну виртуального DOM:</p><ol><li>JSX элементы трансформируются в объекты с <code>type</code>, <code>props</code>, <code>children</code></li><li><code>render()</code> очищает предыдущую сцену и обрабатывает новые элементы</li><li>Элементы конвертируются в объекты Three.js и добавляются в граф сцены</li><li>Цикл анимации вызывает колбэки обновления и рендерит каждый кадр</li><li><code>dispose()</code> очищает геометрии, материалы и рендерер</li></ol><h2 id="связанные-модули" tabindex="-1">Связанные модули <a class="header-anchor" href="#связанные-модули" aria-label="Permalink to &quot;Связанные модули&quot;">​</a></h2><ul><li><a href="/sky-modules/draft-anyasky91/modules/math/math.html">@sky-modules/math</a> - Утилиты векторной и матричной математики</li><li><a href="/sky-modules/draft-anyasky91/modules/canvas/canvas.html">@sky-modules/canvas</a> - 2D рендеринг canvas</li><li><a href="/sky-modules/draft-anyasky91/modules/jsx/jsx.html">@sky-modules/jsx</a> - Универсальная среда выполнения JSX</li></ul><h2 id="примечания-по-реализации" tabindex="-1">Примечания по реализации <a class="header-anchor" href="#примечания-по-реализации" aria-label="Permalink to &quot;Примечания по реализации&quot;">​</a></h2><h3 id="управление" tabindex="-1">Управление <a class="header-anchor" href="#управление" aria-label="Permalink to &quot;Управление&quot;">​</a></h3><p>Встроенное управление мышью обеспечивает базовую функциональность орбитальной камеры:</p><ul><li><strong>Левая кнопка мыши + перетаскивание</strong> - Вращение камеры вокруг начала координат</li><li><strong>Колесико мыши</strong> - Приближение/отдаление (масштабирование расстояния камеры)</li></ul><p>Камера всегда смотрит на начало координат (0, 0, 0) по умолчанию.</p><h3 id="производительность" tabindex="-1">Производительность <a class="header-anchor" href="#производительность" aria-label="Permalink to &quot;Производительность&quot;">​</a></h3><p>Рендерер использует несколько оптимизаций:</p><ul><li><strong>Автоматическая очистка</strong> - Геометрии и материалы освобождаются при очистке сцены</li><li><strong>Колбэки обновления</strong> - Только объекты с <code>onUpdate</code> отслеживаются</li><li><strong>Единый цикл анимации</strong> - Все обновления происходят в одном requestAnimationFrame</li><li><strong>Кэширование карт теней</strong> - Карты теней настраиваются один раз при инициализации</li></ul><h3 id="ограничения" tabindex="-1">Ограничения <a class="header-anchor" href="#ограничения" aria-label="Permalink to &quot;Ограничения&quot;">​</a></h3><ol><li><strong>Пока нет поддержки текстур</strong> - Материалы поддерживают только цвета, не текстурные карты</li><li><strong>Фиксированный размер карты теней</strong> - 2048x2048, не настраивается</li><li><strong>Простое управление</strong> - Нет затухания, панорамирования или продвинутых орбитальных функций</li><li><strong>Нет постобработки</strong> - Нет блума, SSAO или других эффектов</li><li><strong>Статический JSX</strong> - Нет автоматической реактивности, нужно снова вызывать <code>render()</code> для изменений</li></ol><h3 id="будущие-улучшения" tabindex="-1">Будущие улучшения <a class="header-anchor" href="#будущие-улучшения" aria-label="Permalink to &quot;Будущие улучшения&quot;">​</a></h3><p>Возможные улучшения:</p><ul><li>Загрузка и управление текстурами</li><li>Кастомная система управления</li><li>Эффекты постобработки</li><li>Поддержка инстансированного рендеринга</li><li>Реактивный JSX с автоматическими обновлениями</li><li>Прогресс загрузки и обработка ошибок</li><li>Поддержка множественных сцен</li><li>Поддержка VR/AR</li></ul><h3 id="лучшие-практики" tabindex="-1">Лучшие практики <a class="header-anchor" href="#лучшие-практики" aria-label="Permalink to &quot;Лучшие практики&quot;">​</a></h3><div class="language-typescript vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">typescript</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// Хорошо - переиспользование рендерера</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> renderer</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> new</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> ThreeJSXRenderer</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">()</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">function</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> updateScene</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">() {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    renderer.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">render</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(&lt;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">scene</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">...&lt;/</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">scene</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// Плохо - создание нового рендерера каждый раз</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">function</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> updateScene</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">() {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> renderer</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> new</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> ThreeJSXRenderer</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">() </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// Утечка памяти!</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    renderer.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">render</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(&lt;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">scene</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">&gt;</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">...&lt;/</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">scene</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// Хорошо - использование onUpdate для анимаций</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&lt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">mesh onUpdate</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">{(mesh, time) =&gt; {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    mesh.rotation.y </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> time</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}}</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&gt;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// Плохо - мутирование объектов вне рендерера</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> mesh</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> new</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> Three.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">Mesh</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">()</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">setInterval</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(() </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    mesh.rotation.y </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">+=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 0.01</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"> // Не будет работать с JSX рендерером</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">16</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// Хорошо - очистка при завершении</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">useEffect</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(() </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> renderer</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> new</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> ThreeJSXRenderer</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">()</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    return</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> () </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> renderer.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">dispose</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">()</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}, [])</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// Плохо - забыть очистить</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> renderer</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> new</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> ThreeJSXRenderer</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">()</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// компонент размонтируется - утечка памяти!</span></span></code></pre></div></div></div></main><footer class="VPDocFooter" data-v-66d94ec8 data-v-45fec203><!--[--><!--]--><div class="edit-info" data-v-45fec203><div class="edit-link" data-v-45fec203><a class="VPLink link vp-external-link-icon no-icon edit-link-button" href="https://github.com/empty-set-dev/sky-modules/edit/main/docs/ru/modules/three/three.md" target="_blank" rel="noreferrer" data-v-45fec203><!--[--><span class="vpi-square-pen edit-link-icon" data-v-45fec203></span> Edit this page<!--]--></a></div><!----></div><!----></footer><!--[--><!--]--></div></div></div><!--[--><!--]--></div></div><footer class="VPFooter" data-v-eaf121cc data-v-7a785392><div class="container" data-v-7a785392><p class="message" data-v-7a785392>Released under the ISC License.</p><p class="copyright" data-v-7a785392>Copyright © 2025 Anya Sky</p></div></footer><!--[--><!--]--></div></div>
    <script>window.__VP_HASH_MAP__=JSON.parse("{\"guide_getting-started.md\":\"BKsN1HEC\",\"guide_playground-test.md\":\"DGisTxLJ\",\"index.md\":\"85uJ0Hey\",\"modules_index.md\":\"C9kbtChw\",\"packages_index.md\":\"CsIDFul0\",\"playground_index.md\":\"PYMPAqU7\",\"ru_guide_getting-started.md\":\"-SwyieVQ\",\"ru_index.md\":\"Cu550CnJ\",\"ru_modules_canvas_canvas.md\":\"DHMoVIlw\",\"ru_modules_canvas_core.md\":\"Ovq7cqgm\",\"ru_modules_canvas_geometries.md\":\"Dzdg9XAe\",\"ru_modules_canvas_jsx.md\":\"C4SzaiK6\",\"ru_modules_canvas_materials.md\":\"BXRGGXHA\",\"ru_modules_core_array.md\":\"BPx4XgNj\",\"ru_modules_core_assert.md\":\"D354RdA6\",\"ru_modules_core_assume.md\":\"D6V_sI3H\",\"ru_modules_core_async-creation.md\":\"q6GytMe2\",\"ru_modules_core_async.md\":\"DAaNv75c\",\"ru_modules_core_bind.md\":\"BG6fy3jX\",\"ru_modules_core_callback.md\":\"CCMBMMUW\",\"ru_modules_core_canclone.md\":\"Blq7Fwtz\",\"ru_modules_core_class.md\":\"CRqLsKUo\",\"ru_modules_core_console.md\":\"uLP9lehH\",\"ru_modules_core_core.md\":\"jsiUIBmd\",\"ru_modules_core_deferred.md\":\"DnOYVw9b\",\"ru_modules_core_define.md\":\"mfmwmoxj\",\"ru_modules_core_definemeasures.md\":\"xkrnhvDT\",\"ru_modules_core_disposable.md\":\"YiTsOJ4-\",\"ru_modules_core_env.md\":\"BwiYUfoJ\",\"ru_modules_core_errors.md\":\"6JOIBJ19\",\"ru_modules_core_eventemitter.md\":\"CZUCcenr\",\"ru_modules_core_events.md\":\"BRvTXZZ_\",\"ru_modules_core_fetch.md\":\"ByEG4AbZ\",\"ru_modules_core_globalify.md\":\"B56zDliF\",\"ru_modules_core_hmr.md\":\"DN254-mZ\",\"ru_modules_core_hooks.md\":\"BF5UQbQF\",\"ru_modules_core_idle.md\":\"YF8uyQi6\",\"ru_modules_core_justtry.md\":\"HdIq2TaV\",\"ru_modules_core_map.md\":\"DHltlUJh\",\"ru_modules_core_math.md\":\"CThMv4Dt\",\"ru_modules_core_measures.md\":\"DyJtBiZT\",\"ru_modules_core_mergenamespace.md\":\"7JoHMmfi\",\"ru_modules_core_mixin.md\":\"DxVWk4yN\",\"ru_modules_core_mode.md\":\"BgZ4EooU\",\"ru_modules_core_not.md\":\"CsrsC1Gc\",\"ru_modules_core_object.md\":\"DRl6jQWO\",\"ru_modules_core_promisepool.md\":\"BKp9LS9c\",\"ru_modules_core_repeat.md\":\"BxNV6JYu\",\"ru_modules_core_runtime.md\":\"BjqTXnpd\",\"ru_modules_core_switch_thread.md\":\"v2WtNYqq\",\"ru_modules_core_transform.md\":\"k0EuHu6l\",\"ru_modules_core_type-guards.md\":\"Rq5CsDgc\",\"ru_modules_core_utility-types.md\":\"CPxKEat0\",\"ru_modules_design_box.md\":\"CkrEGlge\",\"ru_modules_design_brand.md\":\"D9wphNce\",\"ru_modules_design_design.md\":\"R5okMVT0\",\"ru_modules_design_designsystem.md\":\"B9Td7dvI\",\"ru_modules_design_layout.md\":\"BnECT9ow\",\"ru_modules_features_ecs.md\":\"DDNmUPSA\",\"ru_modules_features_effect.md\":\"B5JQV0qg\",\"ru_modules_features_features.md\":\"Dy5g7PW2\",\"ru_modules_index.md\":\"CW1bjNZj\",\"ru_modules_jsx_jsx.md\":\"CHz95lTk\",\"ru_modules_math_math.md\":\"-iGA_-v6\",\"ru_modules_platform_platform.md\":\"CiI_PnFr\",\"ru_modules_react_react.md\":\"w9bK2vzc\",\"ru_modules_solid_solid.md\":\"CrpFBNwZ\",\"ru_modules_svelte_svelte.md\":\"CRWgmwSC\",\"ru_modules_three_three.md\":\"CP-Wypkq\",\"ru_modules_universal_buttons.md\":\"CbQdLpEL\",\"ru_modules_universal_forms.md\":\"DWRoGryg\",\"ru_modules_universal_layout.md\":\"DBMvzS4j\",\"ru_modules_universal_popover.md\":\"D7R72rCu\",\"ru_modules_universal_slotroot.md\":\"BnPbH74b\",\"ru_modules_universal_typegraphy.md\":\"-XWl29Fp\",\"ru_modules_universal_universal.md\":\"Dd53z8Wd\",\"ru_modules_vike_vike.md\":\"BPbFolhp\",\"ru_modules_vue_vue.md\":\"BTcN9Gq0\",\"ru_packages_index.md\":\"Dc0XH1Fu\",\"ru_playground_index.md\":\"DOxqcEbA\"}");window.__VP_SITE_DATA__=JSON.parse("{\"lang\":\"en-US\",\"dir\":\"ltr\",\"title\":\"Sky Modules\",\"description\":\"Sky Modules\",\"base\":\"/sky-modules/draft-anyasky91/\",\"head\":[],\"router\":{\"prefetchLinks\":true},\"appearance\":true,\"themeConfig\":{\"nav\":[{\"text\":\"Guide\",\"link\":\"/guide/getting-started\"},{\"text\":\"Modules\",\"link\":\"/modules/\"},{\"text\":\"Playground\",\"link\":\"/playground/\"},{\"text\":\"NPM\",\"items\":[{\"text\":\"__PACKAGE_NAME__\",\"link\":\"__PACKAGE_LINK__\"},{\"text\":\"All packages\",\"link\":\"/packages/\"}]}],\"sidebar\":{\"/modules/\":[]},\"socialLinks\":[{\"icon\":\"github\",\"link\":\"https://github.com/empty-set-dev/sky-modules\"},{\"icon\":\"npm\",\"link\":\"https://npmjs.com/~sky-modules\"}],\"footer\":{\"message\":\"Released under the ISC License.\",\"copyright\":\"Copyright © 2025 Anya Sky\"},\"search\":{\"provider\":\"local\"},\"editLink\":{\"pattern\":\"https://github.com/empty-set-dev/sky-modules/edit/main/docs/:path\"}},\"locales\":{\"root\":{\"label\":\"English\",\"lang\":\"en\",\"title\":\"Sky Modules\",\"description\":\"Sky Modules\"},\"ru\":{\"label\":\"Русский\",\"lang\":\"ru\",\"title\":\"Sky Modules\",\"description\":\"Мощные TypeScript утилиты для современной разработки\",\"themeConfig\":{\"nav\":[{\"text\":\"Руководство\",\"link\":\"/ru/guide/getting-started\"},{\"text\":\"Модули\",\"link\":\"/ru/modules/\"},{\"text\":\"Песочница\",\"link\":\"/ru/playground/\"},{\"text\":\"NPM\",\"items\":[{\"text\":\"@sky-modules/core\",\"link\":\"https://npmjs.com/package/@sky-modules/core\"},{\"text\":\"Все пакеты\",\"link\":\"/ru/packages/\"}]}],\"sidebar\":{\"/ru/modules/\":[]}}}},\"scrollOffset\":134,\"cleanUrls\":false}");</script>
    
  </body>
</html>