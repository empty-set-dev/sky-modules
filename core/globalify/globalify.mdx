# Globalify

Utility for adding modules and functions to the global scope.

## Basic Usage

```typescript
import globalify from 'sky/core/globalify'

// Add module to global scope
namespace MyModule {
    export function hello() {
        return 'Hello World!'
    }

    export const VERSION = '1.0.0'
}

globalify(MyModule)

// Now available globally
hello() // 'Hello World!'
VERSION // '1.0.0'
```

## Creating Namespaces

```typescript
// Create nested namespaces
namespace MyLibrary {
    namespace Utils {
        export function formatDate(date: Date): string {
            return date.toISOString()
        }

        export function randomId(): string {
            return Math.random().toString(36).substring(7)
        }
    }
}

globalify.namespace('app.utils', MyLibrary.Utils)

// Now available as app.utils.formatDate() and app.utils.randomId()
app.utils.formatDate(new Date())
app.utils.randomId()
```

## Type Declarations for Global Variables

For proper typing, add declarations to the global scope:

```typescript
import globalify from 'sky/core/globalify'

namespace MyAPI {
    export function request(url: string): Promise<Response> {
        return fetch(url)
    }

    export class ApiError extends Error {
        constructor(message: string, public status: number) {
            super(message)
        }
    }
}

// Add to global scope
globalify(MyAPI)

// Type declarations for TypeScript
declare global {
    const request: typeof MyAPI.request
    const ApiError: typeof MyAPI.ApiError
}
```

## API

### `globalify(module)`

Adds all module exports to the global scope.

**Parameters:**
- `module: Record<PropertyKey, unknown>` - object with exports to globalize

### `globalify.namespace(namespace, module)`

Creates a nested namespace and adds the module there.

**Parameters:**
- `namespace: string` - namespace path (dot-separated)
- `module: Record<PropertyKey, unknown>` - object with exports

**Example:**
```typescript
// Creates globally available object app.ui.components
globalify.namespace('app.ui.components', {
    Button: MyButton,
    Input: MyInput
})
```

## Internal Implementation

The module uses `mergeNamespace` for safe object merging. The implementation creates
nested objects for namespaces and merges the provided module into the appropriate scope.